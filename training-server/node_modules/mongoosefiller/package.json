{
  "name": "mongoosefiller",
  "version": "0.1.1",
  "description": "mongoose plugin, populate and keep updated references to documents in other collection.",
  "main": "index.js",
  "scripts": {
    "test": "./node_modules/mocha/bin/mocha test --reporter spec --check-leaks"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/pgherveou/mongoosefiller"
  },
  "keywords": [
    "mongoose",
    "denormalize",
    "schema"
  ],
  "author": {
    "name": "Pierre Herveou"
  },
  "license": "MIT",
  "devDependencies": {
    "mocha": "1.x",
    "chai": "1.x"
  },
  "peerDependencies": {
    "mongoose": "3.x"
  },
  "readme": "# mongoosefiller\n\ndenormalization plugin for mongoose\n\nThis plugins helps you create denormalized schemas by copying references from other collection and keeping them up to date.\n\nJust like model.populate except that data is stored in the collection instead of being populated for each query\n\n## Installation\n\n    $ npm install mongoosefiller\n\n## Plugin options\n\n```js\n// plugin options\noptions = {\n  id:     String // (optional default to path._id) path of the id of our reference model\n  path:   String // (optional default to '') path to property to keep in sync with ref model\n  pos:    String // (optional) pos operator prefix used to update model in collection array\n  ref :   String // reference Model name (collection we are copying data from)\n  dest:   String // destination Model name (collection we are copying data to)\n  select: String // (optional default to all) list of space separated field to include or exclude\n  sync:   String // (optional default to select) list of space separated field to keep in sync after first save.\n}\n```\n\n```js\n// examples\n\nvar UserSchema = new Schema({\n  firstname: {type: String},\n  lastname : {type: String},\n  email    : {type: String}\n});\n\nvar PostSchema = new Schema({\n  message: {type: String}\n});\n\n// add user.firstname, user.lastname, user.email path to schema\n// fill user.* with data from User\n// update documents every time a change occur in User\nPostSchema.plugin(filler, {\n  path: 'user',\n  ref : 'User',\n  dest: 'Post'\n});\n\nfriendSchema = new Schema({\n  date: {type: Date}\n});\n\nListSchema = new Schema({\n  name: {type: String},\n  friends: [friendSchema]\n});\n\n// add firstname, lastname path to schema\n// fill friends with data from User\n// update friends in List (using positional operator List.friends.$._id)\n// every time a change occur in User\nfriendSchema.plugin(filler, {\n  ref   : 'User',\n  dest  : 'List',\n  pos   : 'friends.$.',\n  select: 'firstname lastname'\n});\n\n```\n\n## Examples\n\n- Embedded array check examples/friends.js\n- Embedded doc   check examples/post.js\n\n\n## Custom Schema event\n\na `fill` event is triggered on the denormalized schema when the the ref doc change and collection is updated\n\n```js\nuser.set('name', 'new-name').save();\nPostSchema.on('fill', function(err, user) {\n  // all post docs have have been saved\n});\n```\n\n## Custom id virtual path\n\nif you define a path attribute, like in the following example, the plugin will create a virtual id accessor\n\n```js\nPostSchema.plugin(filler, {\n  path: 'user',\n  ref : 'User',\n  dest: 'Post'\n});\n\n// ...\n\nPost.create(doc, function(err, post) {\n  console.log(post.user.id == post.user._id.toString());\n});\n\n\n```\n\n## perf\n\nI have done a basic test on one doc\n- read perfs with 10 embedded friends: 5ms\n- read perfs with 10 populated friends: 16ms\n- read perfs with 100 embedded friends: 36ms\n- read perfs with 100 populated friends: 67ms\n- read perfs with 1000 embedded friends: 94ms\n- read perfs with 1000 populated friends: 254m\n## License\n\n  MIT\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/pgherveou/mongoosefiller/issues"
  },
  "homepage": "https://github.com/pgherveou/mongoosefiller",
  "_id": "mongoosefiller@0.1.1",
  "dist": {
    "shasum": "8bd0ffd067749441d203a7904a32f753d0cc44af"
  },
  "_from": "mongoosefiller@",
  "_resolved": "https://registry.npmjs.org/mongoosefiller/-/mongoosefiller-0.1.1.tgz"
}
